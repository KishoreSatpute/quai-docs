"use strict";(self.webpackChunkquai_docs=self.webpackChunkquai_docs||[]).push([[7292],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>b});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),d=l(n),p=o,b=d["".concat(c,".").concat(p)]||d[p]||h[p]||i;return n?a.createElement(b,s(s({ref:t},u),{},{components:n})):a.createElement(b,s({ref:t},u))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=p;var r={};for(var c in t)hasOwnProperty.call(t,c)&&(r[c]=t[c]);r.originalType=e,r[d]="string"==typeof e?e:o,s[1]=r;for(var l=2;l<i;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3531:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var a=n(7462),o=(n(7294),n(3905));const i={title:"Multithreaded Execution",description:"How Quai Network processes transactions in parallel",slug:"/multithreaded-execution",hide_table_of_contents:!1,sidebar_position:4},s="Multithreaded Execution",r={unversionedId:"learn/advanced-introduction/multithreaded-execution",id:"learn/advanced-introduction/multithreaded-execution",title:"Multithreaded Execution",description:"How Quai Network processes transactions in parallel",source:"@site/docs/learn/advanced-introduction/multithreaded-execution.md",sourceDirName:"learn/advanced-introduction",slug:"/multithreaded-execution",permalink:"/quai-docs/multithreaded-execution",draft:!1,editUrl:"https://github.com/dominant-strategies/quai-docs/tree/main/docs/learn/advanced-introduction/multithreaded-execution.md",tags:[],version:"current",lastUpdatedBy:"maxbibeau",lastUpdatedAt:1691773628,formattedLastUpdatedAt:"Aug 11, 2023",sidebarPosition:4,frontMatter:{title:"Multithreaded Execution",description:"How Quai Network processes transactions in parallel",slug:"/multithreaded-execution",hide_table_of_contents:!1,sidebar_position:4},sidebar:"learnSidebar",previous:{title:"Merge-Mined Parachains",permalink:"/quai-docs/parachains"},next:{title:"Interoperability",permalink:"/quai-docs/interoperability"}},c={},l=[{value:"Decoupling Consistency &amp; Global Consensus",id:"decoupling-consistency--global-consensus",level:2},{value:"Segmented State",id:"segmented-state",level:2},{value:"Parallel Processing",id:"parallel-processing",level:2}],u={toc:l},d="wrapper";function h(e){let{components:t,...i}=e;return(0,o.kt)(d,(0,a.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"multithreaded-execution"},"Multithreaded Execution"),(0,o.kt)("p",null,"The invention of multithreaded CPUs drastically increased the accessibility of throughput computing by unlocking the capabilities of parallel processing in a single CPU. Quai's multithreaded blockchain execution revolutionizes blockchain computing in a comparable way. The implementation of parallel processing of transactions in a single network increases the accessibility of a blockchain-based economy."),(0,o.kt)("p",null,"Single threaded blockchain networks require all transactions and interactions to pass through a single execution thread, which can quickly become bottlenecked during periods of high demand. Multithreaded blockchain networks allow for parallel processing where transactions can be validated and confirmed simultaneously in many different contexts.\nQuai achieves multithreaded blockchain execution through the decoupling of local consistency and global consensus. In a single-threaded blockchain, global consensus on the validity of a block must be reached before the block can be included on-chain and coerce consistency. Quai's multithreaded execution introduces the concept of scoped consistency and consensus. Sub networks asynchronously produce blocks, which are eventually organized into the global network hierarchy. Subordinate blocks initially achieve local consensus and consistency, and approach global consensus as they are braided into the network hierarchy."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Blockchain Visualization",src:n(4147).Z,width:"1900",height:"1068"})),(0,o.kt)("h2",{id:"decoupling-consistency--global-consensus"},"Decoupling Consistency & Global Consensus"),(0,o.kt)("p",null,"A large barrier to increased throughput in blockchains is the tight coupling of consistency and consensus. In database technology, consistency means that data is the same across all nodes in the network. In the context of blockchains, consensus means that all participants in the network agree on the correct state of the blockchain. Consensus is achieved when a new block is included on the blockchain. Traditional blockchains have a strong link between consistency and consensus, and require consensus to be reached before consistency can be achieved. Quai Network provides a guarantee of local and global consistency prior to global consensus, meaning that data can be included on-chain and consistent across subordinate chains prior to global consensus being reached."),(0,o.kt)("p",null,"Traditional blockchains that do not guarantee consistency prior to consensus suffer from latency delays at each point of consensus as nodes rush to become consistent. The decoupling of consistency from global consensus largely eliminates these latency delays, ensuring all nodes have all necessary data to verify legitimacy provided to them at each point of consensus."),(0,o.kt)("p",null,"Quai Network achieves this decoupling through its merge-mined, hierarchical structure of many sub networks. Each sub network is able to achieve local consistency and consensus prior to global consensus, allowing for much faster inclusion on-chain and greatly increased processing capacity. Quai Network maintains atomic block progression and rollbacks, meaning that if global consensus rejects the state of any subordinate chain(s), the resulting rollback will affect all chains involved in the rejected state. This mechanism protects against double-spend attacks attempted by coopting a subordinate chain, and ensures that all sub networks are obligated to follow global consensus."),(0,o.kt)("h2",{id:"segmented-state"},"Segmented State"),(0,o.kt)("p",null,"Quai Zones maintain unique subsets of global state. Sharding state reduces the storage and computation requirements of each sub network, the amount of data transmitted across the network, and allows the network to achieve consistency faster."),(0,o.kt)("p",null,"The division of state across sub networks minimize the storage and computation requirements of running each sub network. With N sub networks under the Prime chain, each sub network contains approximately 1/Nth of total network state. Thus, if a Quai node maintains P sub networks, it will only be required to store P/Nth of total network state, in contrast to single-threaded blockchains where storing the entire network state is required of all nodes. Further, nodes are only required to compute the state transitions of the sub networks that they maintain, avoiding unnecessary computation requirements."),(0,o.kt)("p",null,"Quai's multithreaded execution environment also minimizes the amount of data transmitted across the network, saving network bandwidth. Transactions internal to a sub network are only propagated to nodes maintaining that sub network. External transactions are propagated only to the contexts which will experience a state transition due to those ETXs. By only propagating data to the contexts where it is required, Quai saves network bandwidth, increasing TPS capacity.\nThe organization and scoped consensus of sub networks allows data to quickly achieve consistency. Quai's separation of consistency from global consensus allows sub networks to asynchronously append data, with objectively created hash linked references to each block used to gradually raise the scope of consensus. Every state transition in Quai Network initially achieves local consensus, and eventually receives global consensus as subordinate blocks are braided into the overall network hierarchy."),(0,o.kt)("h2",{id:"parallel-processing"},"Parallel Processing"),(0,o.kt)("p",null,"Quai Network's multithreaded execution environment achieves the parallel processing of transactions and contract interactions within the network by separating the write locks and computations of different subnets. Blocks are produced asynchronously in all Quai sub networks, allowing local consistency to be attained within many sub networks in parallel.\nParallel processing allows Quai Network to process more than 50,000 transactions per second across all sub networks. Quai retains atomicity in a parallel processing environment by coordinating block production and rollbacks governed by ",(0,o.kt)("a",{parentName:"p",href:"./poem/"},"Proof-of-Entropy-Minima (PoEM) consensus"),"."))}h.isMDXComponent=!0},4147:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/BlockchainVisualization-0ac1c0914693d2e8f3700a25dfca66ad.webp"}}]);
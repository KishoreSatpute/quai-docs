"use strict";(self.webpackChunkquai_docs=self.webpackChunkquai_docs||[]).push([[5872],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>b});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),s=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=s(e.components);return i.createElement(l.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),u=s(n),m=o,b=u["".concat(l,".").concat(m)]||u[m]||h[m]||a;return n?i.createElement(b,r(r({ref:t},d),{},{components:n})):i.createElement(b,r({ref:t},d))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,r=new Array(a);r[0]=m;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[u]="string"==typeof e?e:o,r[1]=c;for(var s=2;s<a;s++)r[s]=n[s];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1237:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>c,toc:()=>s});var i=n(7462),o=(n(7294),n(3905));const a={title:"Coincident Blocks",description:"How merge-mined blocks are used to transfer state across blockchains in Quai Network.",slug:"/coincident-blocks",hide_table_of_contents:!1,sidebar_position:1},r="Coincident Blocks",c={unversionedId:"learn/advanced-introduction/merged-mining/coincident-blocks",id:"learn/advanced-introduction/merged-mining/coincident-blocks",title:"Coincident Blocks",description:"How merge-mined blocks are used to transfer state across blockchains in Quai Network.",source:"@site/docs/learn/advanced-introduction/merged-mining/coincident-blocks.mdx",sourceDirName:"learn/advanced-introduction/merged-mining",slug:"/coincident-blocks",permalink:"/docs/coincident-blocks",draft:!1,editUrl:"https://github.com/dominant-strategies/quai-docs/tree/main/docs/learn/advanced-introduction/merged-mining/coincident-blocks.mdx",tags:[],version:"current",lastUpdatedBy:"Juuddi",lastUpdatedAt:1692116968,formattedLastUpdatedAt:"Aug 15, 2023",sidebarPosition:1,frontMatter:{title:"Coincident Blocks",description:"How merge-mined blocks are used to transfer state across blockchains in Quai Network.",slug:"/coincident-blocks",hide_table_of_contents:!1,sidebar_position:1},sidebar:"learnSidebar",previous:{title:"Merged Mining",permalink:"/docs/merged-mining"},next:{title:"Energy Efficiency",permalink:"/docs/energy-efficiency"}},l={},s=[{value:"Why Do Coincident Blocks Occur?",id:"why-do-coincident-blocks-occur",level:2},{value:"Rules of Coincident Blocks",id:"rules-of-coincident-blocks",level:2}],d={toc:s},u="wrapper";function h(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"coincident-blocks"},"Coincident Blocks"),(0,o.kt)("p",null,"A coincident block is a block that is valid in multiple Quai blockchains. Coincident blocks are a naturally occurring, beneficial byproduct of merged mining that Quai Network utilizes to derive subordinate chain security from dominant chains, and to transition state between chains."),(0,o.kt)("p",null,"When mining Quai, each miner checks every nonce against three difficulty thresholds. Due to the nature of difficulty thresholds, a possibility will always exist that a single nonce will fulfill multiple of these difficulty thresholds. When this occurs, the nonce is considered valid in multiple contexts, creating a hash-linked reference between a dominant and a subordinate chain. This hash linked reference allows for cross-chain transactions and contract interactions between chains."),(0,o.kt)("h2",{id:"why-do-coincident-blocks-occur"},"Why Do Coincident Blocks Occur?"),(0,o.kt)("p",null,"To successfully mine a block, a miner must meet or exceed the entropy removal threshold of a blockchain. Miners often randomly find nonces that exceed the entropy threshold by one or more zeros. A coincident block is a block with a nonce that has removed enough entropy to also meet a secondary threshold value."),(0,o.kt)("br",null),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Probability of Mining a Coincident Block"),(0,o.kt)("th",{parentName:"tr",align:"center"},"Number of Extra Leading Zeros (binary)"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"50%"),(0,o.kt)("td",{parentName:"tr",align:"center"},"1")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"25%"),(0,o.kt)("td",{parentName:"tr",align:"center"},"2")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"12.5%"),(0,o.kt)("td",{parentName:"tr",align:"center"},"3")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"6.25%"),(0,o.kt)("td",{parentName:"tr",align:"center"},"4")))),(0,o.kt)("br",null),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Critically, the production of coincident blocks (and thus the hash linked references between chains) relies only upon the objective, thoroughly tested mechanism of hash-based mining"),". This differentiates Quai from other multichain solutions, which introduce new, subjective, non-atomic mechanisms to facilitate cross-chain transfers."),(0,o.kt)("h2",{id:"rules-of-coincident-blocks"},"Rules of Coincident Blocks"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"All dominant blocks must be coincident with all directly subordinate blocks."),(0,o.kt)("li",{parentName:"ol"},"Subordinate blocks can be mined asynchronously without being included in a coincident block."),(0,o.kt)("li",{parentName:"ol"},"For a coincident block to be valid, it must be valid in all pertinent contexts."),(0,o.kt)("li",{parentName:"ol"},"Coincident blocks must be synchronously appended to ensure Rule #3."),(0,o.kt)("li",{parentName:"ol"},"Coincident blocks have the same hash in all contexts in which they are valid, which provides cross-chain hash linked references.")),(0,o.kt)("p",null,'Due to the nature of blockchain mining difficulty, all Prime and Region blocks are considered coincident blocks. Consequently, to produce a Prime block the nonce must exceed the difficulty threshold of Prime, Region, and Zone, and to produce a Region block the nonce must exceed the difficulty threshold of Region and Zone. Prime is coincident with Region and Zone while Region is coincident with just Zone. Prime blocks act as a "knot" pegging all Region and Zone blocks to the Prime blockchain. Zone blocks are the only blocks in Quai Network which are not coincident.'),(0,o.kt)("p",null,"While all Quai blockchains advance independently and asynchronously, they are stochastically synced together by the production of coincident blocks. At the point of coincident block production, all chains linked together by a coincident block are both simultaneously committing to the validity of that block, and appending that block to their context. If a coincident block would be valid in Region and Zone but not Prime, it would not be appended to any chain. Similarly, if a coincident block would be considered valid in Prime and Region but not Zone, it would not be appended to any chain.\nAll coincident blocks must be appended simultaneously in all contexts, causing coincident blocks to slow subordinate chains to the performance of the most dominant chain for that block. In an extreme example, if Prime, Region, and Zone chains had the same target block times, Zone blockchains would see no improvement in performance as each Zone block would be delayed to the performance of Prime. Quai Network increases target block times by an order of magnitude in each of the dominant levels in order to create better performing subordinate chain subnets."),(0,o.kt)("p",null,'The smallest segment of the network that a node or miner can run is a "slice," which consists of the Prime chain, a Region chain, and a Zone chain subordinate to the selected Region chain. A slice is the smallest set a node can run trustlessly, as all data in a slice is trusting data from another part of the slice to validate and append blocks.'))}h.isMDXComponent=!0}}]);